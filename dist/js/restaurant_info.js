"use strict";!function(n,d,e){if(n.fetch){var l=void 0;n.initMap=function(){e.onLine&&t().then(function(e){if(e){var i;l=new google.maps.Map(d.getElementById("map"),{center:e.latlng,zoom:16,scrollwheel:!1,keyboardShortcuts:!1}),DBHelper.mapMarkerForRestaurant(e,l),i=l.addListener("tilesloaded",function(){var e=d.getElementById("map-container"),t=d.createElement("a");t.className="skip-link button",t.href="#restaurant-container",t.innerHTML="Skip the map",e.insertAdjacentElement("afterbegin",t);var n=d.createElement("h2");n.id="map-label",n.className="sr-only",n.innerHTML="Google Maps Widget: shows the restaurant location",e.insertAdjacentElement("afterbegin",n);var a=d.querySelector('#map div[tabindex="0"]');a.setAttribute("aria-labelledby","map-label");var r=d.getElementById("map");a.addEventListener("focus",function(){r.classList.add("focused")}),a.addEventListener("blur",function(){r.classList.remove("focused")}),r.addEventListener("focus",function(){l.setOptions({keyboardShortcuts:!0})},!0),r.addEventListener("blur",function(){l.setOptions({keyboardShortcuts:!1})},!0),google.maps.event.removeListener(i)});var t=l.addListener("tilesloaded",function(){setTimeout(function(){d.querySelector("#map iframe").title="Map shows "+e.name+" location"},150),google.maps.event.removeListener(t)});r(e)}else a()}).catch(function(e){console.log(e)})},e.onLine||d.addEventListener("DOMContentLoaded",function(){t().then(function(e){var t,n;e?(r(e),t=d.getElementById("map"),(n=d.createElement("p")).innerHTML="âš  You are offline, map is not available.",t.classList.add("offline"),t.setAttribute("role","alert"),t.append(n)):a()}).catch(function(e){console.log(e)})})}else console.log("Fetch API not supported");function a(){d.querySelector("title").innerHTML="Page Not Found - Restaurant Reviews",d.body.removeChild(d.querySelector("a.skip-link")),d.body.removeChild(d.querySelector('nav[aria-label="Breadcrumb"]'));var e=d.querySelector("main");e.innerHTML="",d.body.className="error-page",e.removeAttribute("class");var t=d.createElement("div");t.setAttribute("role","alert");var n=d.createElement("header"),a=d.createElement("h1");a.innerHTML="Error 404";var r=d.createElement("p");r.innerHTML="Sorry, but the page you were trying to view does not exist.",n.append(a),n.append(r);var i=d.createElement("p"),l=d.createElement("a");l.href="/",l.className="button",l.innerHTML="Go to our home page",i.append(l),t.append(n),t.append(i),e.append(t)}function t(){var e,t=(e="id",new URL(n.location.href).searchParams.get(e));if(t)return DBHelper.fetchRestaurantById(t).then(function(e){if(e)return function(e){d.querySelector("title").innerHTML=e.name+" - Restaurant Info and Reviews",d.getElementById("restaurant-name").innerHTML=e.name,d.getElementById("restaurant-address").innerHTML=e.address;var t=d.getElementById("restaurant-img");t.className="restaurant-img",t.src=DBHelper.imageUrlForRestaurant(e,800),t.sizes="(min-width: 1366px) calc((1366px - 4rem) / 3), (min-width: 1080px) calc((100vw - 4rem) / 3), (min-width: 700px) calc((100vw - 3rem) / 2), calc(100vw - 2rem)",t.srcset=DBHelper.formatSrcset(e),t.alt=e.photoDescription||"The Restaurant "+e.name+" in "+e.neighborhood;var n=d.getElementById("restaurant-cuisine"),a=d.createElement("strong");a.innerHTML="Type of Cuisine: "+e.cuisine_type,n.appendChild(a),e.operating_hours&&function(e){var t=d.getElementById("restaurant-hours");for(var n in e){var a=d.createElement("tr"),r=d.createElement("th");r.innerHTML=n,r.scope="row",a.appendChild(r);var i=d.createElement("td");i.innerHTML=e[n],a.appendChild(i),t.appendChild(a)}}(e.operating_hours);!function(e){var t=d.getElementById("reviews-container"),n=d.createElement("h2");if(n.innerHTML="Reviews",t.appendChild(n),!e){var a=d.createElement("p");return a.innerHTML="No reviews yet!",t.appendChild(a)}var r=d.getElementById("reviews-list");e.forEach(function(e){r.appendChild(function(e){var t=d.createElement("li"),n=d.createElement("article"),a=d.createElement("header"),r=d.createElement("h3"),i=d.createElement("span");i.innerHTML=e.name,r.appendChild(i);var l=d.createElement("time");l.dateTime=function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1+"",r=t.getDate()+"";a.length<2&&(a="0"+a);r.length<2&&(r="0"+r);return[n,a,r].join("-")}(e.date),l.innerHTML=e.date,r.appendChild(l),a.appendChild(r),n.appendChild(a);var o=d.createElement("p"),s=d.createElement("abbr");s.title="Rating: "+e.rating+" of 5",s.className="stars-"+e.rating,o.appendChild(s),n.appendChild(o);var c=d.createElement("p");return c.innerHTML=e.comments,n.appendChild(c),t.appendChild(n),t}(e))}),t.appendChild(r)}(e.reviews)}(e),e}).catch(function(e){console.log(e)})}function r(e){var t=d.getElementById("breadcrumb"),n=d.createElement("li"),a=d.createElement("a"),r=DBHelper.urlForRestaurant(e);a.href=r,a.setAttribute("aria-current","page"),a.innerHTML=e.name,n.appendChild(a),t.appendChild(n)}}(window,document,navigator);
//# sourceMappingURL=restaurant_info.js.map
